{% extends "base.html" %}
{% load staticfiles %}
{% load bootstrap3 %}
{% load common_tags %}

{% block title %}{{ page_title }}{% endblock %}

{% block scripts %}
<script>
  $(document).ready(function() {
    var table = $('#id_datatable').DataTable({
      "serverSide": true,
      "searching": true,
      "processing": true,
      "ajax": "{{source_url}}?format=datatables",
      "stateSave": true,
      "autoWidth": true,
      "columns": [
          {"data": "id"},
          // {"data": "artist_name", "name": "artist.name"},
          // {"data": "name"},
          // {"data": "year"},
          // {"data": "genres", "name": "genres.name", "sortable": false},
      ]
    });
  });

  $(document).keypress(function(e) {
    if (e.keyCode == 13) {
      $('div.dataTables_filter input').focus()
    }
  });
</script>
{% endblock %}

{% block references %}
<style type="text/css">
  th > input[type='text']{
    width: 100%; /*this will make the text box fill the horizontal space of the its container td*/
  }
</style>

{% endblock %}

{% block content %}
<h2>{{ page_title }}</h2>
<table id="id_datatable" class="table table-striped table-bordered">
  <thead>
    <tr>
      <th>ID</th>
    </tr>
  </thead>
</table>
{% endblock %}
