{% extends "leaveslips/leaveslip_update.html" %}

{% block ls_link %}
href="{{next_ls_url}}"
{% endblock %}

{% block references %}
  {{ form.media }}
{% endblock %}

{% block leaveslip_script %}
  <script>
    function highlightSubmitter(state) {
      var asterisk = "";
      if (state.text == "{{ leaveslip.trainee.full_name }}") {
        asterisk = " *"
      }
      var elem = '<span>' + state.text + asterisk + '</span>'
      return elem
    }

    $(document).ready(() => {
      $("label[for|='id_trainees']").append(
        '<span id="submitter_display" style="margin-left: 10px; font-size: 12px;">Submitter: {{ leaveslip.trainee.full_name }}</span>');
      $("#id_trainees").djangoSelect2({
        width: "100%",
        templateSelection: highlightSubmitter,
        escapeMarkup: function(m) { return m; }
      });
    });
  </script>
{% endblock %}
