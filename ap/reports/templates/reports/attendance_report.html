{% extends "base.html" %}
{% load staticfiles %}
{% load bootstrap3 %}

{% block title %} Attendance Report {% endblock %}

{% block scripts %}
<script type="text/javascript">

var attendance_records = [];
var date_from = "{{date_from}}";
var date_to = "{{date_to}}";
var trainee_ids = {{trainee_ids|safe}};
var locality_ids = {{localities|safe}};


function get_trainee_record(trainee_id){
	$.ajax({
      type: "GET",
      url: "{%url 'reports:attendance-report-individual-trainee' %}",
      data: {
      	t_id: trainee_id,
      	date_from: date_from,
      	date_to: date_to,
      },
      success: function(response){
          attendance_records.push(response)
          if (attendance_records.length == trainee_ids.length){
            console.log("complete")
          }
        },
      })
};

$( document ).ready(() => {
	trainee_ids.forEach(function(element) {
		get_trainee_record(element);
	})


});

</script>
{% endblock %}

{% block references %}
<style type="text/css">

</style>
{% endblock %}

{% block content %}



{% endblock %}


